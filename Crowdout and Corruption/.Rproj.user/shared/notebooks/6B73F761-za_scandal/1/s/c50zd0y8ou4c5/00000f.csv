"0",""
"0","## Create variables for analysis"
"0",""
"0","# Recode relevant binary variables to 0/1"
"0","barometer <- barometer |> "
"0","  mutate(rural = ifelse(URBRUR == 2, 1, 0),"
"0","         female = ifelse(Q100 == 2, 1, 0)) |> "
"0","  select(-c(URBRUR, Q100))"
"0",""
"0","# Create indicator for binary indicator after scandal"
"0","barometer <- barometer |> "
"0","  mutate(post_scandal = ifelse(DATEINTR > as.Date(""2022-11-30""), 1, 0))"
"0",""
"0","# Create distance from cutoff date"
"0","barometer <- barometer |> "
"0","  mutate(distance = as.numeric(DATEINTR - as.Date(""2022-11-30"")))"
"0",""
"0","# Create cutoff date"
"0","rdline <- as.Date(""2022-11-30"")"
"0",""
"0","# Recode Q23: Support for democracy"
"0","# Recoded as 1 if person responds that the statement ""Democracy is preferable to any other kind of government."" is closest to their view, 0 otherwise"
"0","barometer <- barometer |> "
"0","  mutate(Q23_recoded = ifelse(Q23 == 3, 1, 0))"
"0",""
"0","# Recode Q30: Political system in your country"
"0","# Recoded as 1 if respondent says South Africa is ""a full democracy"", or a ""a democracy, but with minor problems"", and 0 otherwise. Note that this includes a category ""a democracy, with major problems"" - but I think we want this in the 0 category."
"0","barometer <- barometer %>%"
"0","  mutate(Q30_recoded = ifelse(Q30 %in% c(3, 4), 1, 0))"
"0",""
"0","# Recode Q33B: Does the president ignore the courts and laws of this country?"
"0","# Recoded as 1 if ""always"" or ""often', 0 otherwise"
"0","barometer <- barometer %>%"
"0","  mutate(Q33B_recoded = ifelse(Q33B %in% c(3, 2), 1, 0))"
"0",""
